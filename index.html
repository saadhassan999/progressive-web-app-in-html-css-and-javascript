<html>
  <head>
    <link rel="manifest" href="manifest.json" />
    <title>Smart Mobile Recommendation</title>
    <script src="https://www.gstatic.com/firebasejs/8.3.1/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.3.1/firebase-messaging.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.3.1/firebase-firestore.js"></script>
    <link rel="stylesheet" href="css/style.css" />
    <meta name="apple-mobile-web-app-status-bar" content="#db4938" />
    <meta name="theme-color" content="#db4938" />
  </head>
  <body>
    <h1>Smart Mobile Recommendation</h1>

    <div class="content">
      <form id="add-mob-form">
        <input type="text" name="name" placeholder="enter mobile" />
        <button>Add Mobile</button>
      </form>
      <ul id="mob-list"></ul>
    </div>

    <script>
      var firebaseConfig = {
        apiKey: "AIzaSyAhuzbpWDQ2IjJb_aWgW3lrUdp9bbAiUSc",
        authDomain: "mobile-8a0e6.firebaseapp.com",
        projectId: "mobile-8a0e6",
        storageBucket: "mobile-8a0e6.appspot.com",
        messagingSenderId: "584639168114",
        appId: "1:584639168114:web:318f9c5157718ef782cceb",
        measurementId: "G-QCW177YVQZ",
      };
      firebase.initializeApp(firebaseConfig);
      const db = firebase.firestore();
      const messaging = firebase.messaging();
      messaging
        .requestPermission()
        .then(function () {
          console.log("Notification permission granted.");

          // get the token in the form of promise
          return messaging.getToken();
        })
        .then(function (token) {
          console.log(token);
        })
        .catch(function (err) {
          console.log("Unable to get permission to notify.", err);
        });

      db.settings({ timestampsInSnapshots: true });
    </script>
    <script src="js/app.js"></script>
  </body>
</html>
